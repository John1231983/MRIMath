<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MRIMath: TrainModels2 Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MRIMath
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">TrainModels2 Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afb5abaa36264a0a02f9ba9878145d2cb"><td class="memItemLeft" align="right" valign="top"><a id="afb5abaa36264a0a02f9ba9878145d2cb"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>precision</b> (y_true, y_pred)</td></tr>
<tr class="separator:afb5abaa36264a0a02f9ba9878145d2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac12d3a5d86861607122bb446c266ee15"><td class="memItemLeft" align="right" valign="top"><a id="ac12d3a5d86861607122bb446c266ee15"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>now</b> = datetime.now()</td></tr>
<tr class="separator:ac12d3a5d86861607122bb446c266ee15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25229be5101d04ae3db6e820fb6ced61"><td class="memItemLeft" align="right" valign="top"><a id="a25229be5101d04ae3db6e820fb6ced61"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>date_string</b> = now.strftime('%Y-%m-%d_%H_%M')</td></tr>
<tr class="separator:a25229be5101d04ae3db6e820fb6ced61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20763c4ab323ebf47f3c2040a81bd7ab"><td class="memItemLeft" align="right" valign="top"><a id="a20763c4ab323ebf47f3c2040a81bd7ab"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>dataHandler</b> = <a class="el" href="classDataHandler_1_1DataHandler.html">DataHandler</a>()</td></tr>
<tr class="separator:a20763c4ab323ebf47f3c2040a81bd7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f39de3e41199f398e92ad6866bfb98e"><td class="memItemLeft" align="right" valign="top"><a id="a4f39de3e41199f398e92ad6866bfb98e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>emailHandler</b> = <a class="el" href="classEmailHandler_1_1EmailHandler.html">EmailHandler</a>()</td></tr>
<tr class="separator:a4f39de3e41199f398e92ad6866bfb98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a850f7b7cbaabf15286c13f26e08b3e"><td class="memItemLeft" align="right" valign="top"><a id="a3a850f7b7cbaabf15286c13f26e08b3e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>hardwareHandler</b> = <a class="el" href="classHardwareHandler_1_1HardwareHandler.html">HardwareHandler</a>()</td></tr>
<tr class="separator:a3a850f7b7cbaabf15286c13f26e08b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24404e50386ebc4f2bc8e5bbd934852c"><td class="memItemLeft" align="right" valign="top"><a id="a24404e50386ebc4f2bc8e5bbd934852c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>timer</b> = <a class="el" href="classTimerModule_1_1TimerModule.html">TimerModule</a>()</td></tr>
<tr class="separator:a24404e50386ebc4f2bc8e5bbd934852c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6672e5ea6f12df737f37bcc3acb1b396"><td class="memItemLeft" align="right" valign="top"><a id="a6672e5ea6f12df737f37bcc3acb1b396"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>mode</b> = 'Flair'</td></tr>
<tr class="separator:a6672e5ea6f12df737f37bcc3acb1b396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57893ff4df776233a6e985c47b99c9e"><td class="memItemLeft" align="right" valign="top"><a id="af57893ff4df776233a6e985c47b99c9e"></a>
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>input_img</b> = (dataHandler.n, dataHandler.n, 1)</td></tr>
<tr class="separator:af57893ff4df776233a6e985c47b99c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0834fc18a999cccf9af8a539b78120"><td class="memItemLeft" align="right" valign="top"><a id="a1d0834fc18a999cccf9af8a539b78120"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>model</b> = Sequential()</td></tr>
<tr class="separator:a1d0834fc18a999cccf9af8a539b78120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd23450b585dc3430e03b73b59aeba9"><td class="memItemLeft" align="right" valign="top"><a id="a1fd23450b585dc3430e03b73b59aeba9"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>data_dir</b> = '/coe_data/MRIMath/MS_Research/Patient_Data_Images/'+mode</td></tr>
<tr class="separator:a1fd23450b585dc3430e03b73b59aeba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59130aea1dbd65bee48e9acd0b5c6b0b"><td class="memItemLeft" align="right" valign="top"><a id="a59130aea1dbd65bee48e9acd0b5c6b0b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>training</b></td></tr>
<tr class="separator:a59130aea1dbd65bee48e9acd0b5c6b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae01576d8f0e088ee69757586786009cb"><td class="memItemLeft" align="right" valign="top"><a id="ae01576d8f0e088ee69757586786009cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>training_labels</b></td></tr>
<tr class="separator:ae01576d8f0e088ee69757586786009cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a094ec55806875ddf9d8581dd6d543fa1"><td class="memItemLeft" align="right" valign="top"><a id="a094ec55806875ddf9d8581dd6d543fa1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>testing</b></td></tr>
<tr class="separator:a094ec55806875ddf9d8581dd6d543fa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23dd70cff8d8e5f4b2aa114d18d9cc0"><td class="memItemLeft" align="right" valign="top"><a id="ae23dd70cff8d8e5f4b2aa114d18d9cc0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>testing_labels</b></td></tr>
<tr class="separator:ae23dd70cff8d8e5f4b2aa114d18d9cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22de447f4993b7e48e65ccd875d1631"><td class="memItemLeft" align="right" valign="top"><a id="ae22de447f4993b7e48e65ccd875d1631"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>model_directory</b> = &quot;/coe_data/MRIMath/MS_Research/MRIMath/Models/&quot; + date_string+'_'+mode</td></tr>
<tr class="separator:ae22de447f4993b7e48e65ccd875d1631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaba5925d5bb1d7b599609ef04891e39"><td class="memItemLeft" align="right" valign="top"><a id="acaba5925d5bb1d7b599609ef04891e39"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>num_epochs</b> = 10</td></tr>
<tr class="separator:acaba5925d5bb1d7b599609ef04891e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0de09c8fcdaf58714b1656d2f293e587"><td class="memItemLeft" align="right" valign="top"><a id="a0de09c8fcdaf58714b1656d2f293e587"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>batchSize</b> = 64</td></tr>
<tr class="separator:a0de09c8fcdaf58714b1656d2f293e587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4843b4ce3bdf626756ce2ceb94a4475"><td class="memItemLeft" align="right" valign="top"><a id="ac4843b4ce3bdf626756ce2ceb94a4475"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>lrate</b> = 0.1</td></tr>
<tr class="separator:ac4843b4ce3bdf626756ce2ceb94a4475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00147cdd8cda009335bc43846f992dbc"><td class="memItemLeft" align="right" valign="top"><a id="a00147cdd8cda009335bc43846f992dbc"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>momentum</b> = 0.9</td></tr>
<tr class="separator:a00147cdd8cda009335bc43846f992dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2325af8b38e784443450266320943c5c"><td class="memItemLeft" align="right" valign="top"><a id="a2325af8b38e784443450266320943c5c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sgd</b> = SGD(lr=lrate, momentum=momentum, nesterov=True)</td></tr>
<tr class="separator:a2325af8b38e784443450266320943c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad443a27f3cf22ff208d54a951218e8e3"><td class="memItemLeft" align="right" valign="top"><a id="ad443a27f3cf22ff208d54a951218e8e3"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>model_info_filename</b> = 'model_info.txt'</td></tr>
<tr class="separator:ad443a27f3cf22ff208d54a951218e8e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ecbcc573dc5f3d1f621ff6498a345fb"><td class="memItemLeft" align="right" valign="top"><a id="a1ecbcc573dc5f3d1f621ff6498a345fb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>model_info_file</b> = open(model_directory + '/' + model_info_filename, &quot;w&quot;)</td></tr>
<tr class="separator:a1ecbcc573dc5f3d1f621ff6498a345fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df71d4638f54ccc7db48422d4c054ab"><td class="memItemLeft" align="right" valign="top"><a id="a1df71d4638f54ccc7db48422d4c054ab"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>log_info_filename</b> = 'model_loss_log.csv'</td></tr>
<tr class="separator:a1df71d4638f54ccc7db48422d4c054ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87353c150623c98362c8945361351f1f"><td class="memItemLeft" align="right" valign="top"><a id="a87353c150623c98362c8945361351f1f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>log_info</b> = open(model_directory + '/' + log_info_filename, &quot;w&quot;)</td></tr>
<tr class="separator:a87353c150623c98362c8945361351f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58908e94f77f753e7ae808625c45442f"><td class="memItemLeft" align="right" valign="top"><a id="a58908e94f77f753e7ae808625c45442f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>csv_logger</b> = CSVLogger(model_directory + '/' + log_info_filename, append=True, separator=',')</td></tr>
<tr class="separator:a58908e94f77f753e7ae808625c45442f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90523e6e2253a1ae9c7c81408a2a53d3"><td class="memItemLeft" align="right" valign="top"><a id="a90523e6e2253a1ae9c7c81408a2a53d3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>reduce_lr</b> = ReduceLROnPlateau(monitor='val_loss', factor=0.2, patience=3, min_lr=0.001)</td></tr>
<tr class="separator:a90523e6e2253a1ae9c7c81408a2a53d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ba3b54f49e6d977b7709247f8adef5a"><td class="memItemLeft" align="right" valign="top"><a id="a6ba3b54f49e6d977b7709247f8adef5a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>G</b> = hardwareHandler.getAvailableGPUs()</td></tr>
<tr class="separator:a6ba3b54f49e6d977b7709247f8adef5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aaa47f5ae35874c42fb780cfba7c54f"><td class="memItemLeft" align="right" valign="top"><a id="a2aaa47f5ae35874c42fb780cfba7c54f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>parallel_model</b> = multi_gpu_model(model, G)</td></tr>
<tr class="separator:a2aaa47f5ae35874c42fb780cfba7c54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98dfcd292d8c113a1edf423106fefd6b"><td class="memItemLeft" align="right" valign="top"><a id="a98dfcd292d8c113a1edf423106fefd6b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>optimizer</b></td></tr>
<tr class="separator:a98dfcd292d8c113a1edf423106fefd6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fcbb68181b39926bf753cdc7deb922e"><td class="memItemLeft" align="right" valign="top"><a id="a7fcbb68181b39926bf753cdc7deb922e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>loss</b></td></tr>
<tr class="separator:a7fcbb68181b39926bf753cdc7deb922e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a16077d7b4119ff05269c44f73785b"><td class="memItemLeft" align="right" valign="top"><a id="a13a16077d7b4119ff05269c44f73785b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>metrics</b></td></tr>
<tr class="separator:a13a16077d7b4119ff05269c44f73785b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e4cc86cc40f5270cbbe6c161b2c314"><td class="memItemLeft" align="right" valign="top"><a id="a10e4cc86cc40f5270cbbe6c161b2c314"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>epochs</b></td></tr>
<tr class="separator:a10e4cc86cc40f5270cbbe6c161b2c314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ec13a50711c09e35624e60dae40901"><td class="memItemLeft" align="right" valign="top"><a id="a77ec13a50711c09e35624e60dae40901"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>batch_size</b></td></tr>
<tr class="separator:a77ec13a50711c09e35624e60dae40901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc76634c903fa1edb79d42a1ac4d536"><td class="memItemLeft" align="right" valign="top"><a id="adfc76634c903fa1edb79d42a1ac4d536"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>shuffle</b></td></tr>
<tr class="separator:adfc76634c903fa1edb79d42a1ac4d536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b8de6eb7736570a243a205449a1dbe"><td class="memItemLeft" align="right" valign="top"><a id="a87b8de6eb7736570a243a205449a1dbe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>validation_data</b></td></tr>
<tr class="separator:a87b8de6eb7736570a243a205449a1dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7124d3f2101fe512aa51861596ec3e4c"><td class="memItemLeft" align="right" valign="top"><a id="a7124d3f2101fe512aa51861596ec3e4c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>callbacks</b></td></tr>
<tr class="separator:a7124d3f2101fe512aa51861596ec3e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4dc5f36eaec486b800268732575c828"><td class="memItemLeft" align="right" valign="top"><a id="ac4dc5f36eaec486b800268732575c828"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>message</b> = &quot;Finished training network at &quot; + str(datetime.now()) + '\n\n'</td></tr>
<tr class="separator:ac4dc5f36eaec486b800268732575c828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2aaa0024947b8989edfe7739e87c71"><td class="memItemLeft" align="right" valign="top"><a id="a6f2aaa0024947b8989edfe7739e87c71"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>print_fn</b></td></tr>
<tr class="separator:a6f2aaa0024947b8989edfe7739e87c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Created on Feb 17, 2018

@author: daniel
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
